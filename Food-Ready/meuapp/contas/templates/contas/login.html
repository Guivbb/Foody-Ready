{% extends 'contas/base.html' %}
{% load static %}

{% block title %}Login Cliente{% endblock %}

{% block content %}
<div class="main-container">
    <header class="split-header">
        <h1>Login Cliente</h1>
    </header>

    <div class="split-screen-container">
        <div class="split-panel panel-left">
            <div class="panel-content">
                <h2>Bem-Vindo de Volta</h2>
                <p>Acesse sua conta</p>
                <form method="post" class="auth-form" action="{% url 'login' %}">
                    {% csrf_token %}
                    <div class="form-group">
                        {{ login_form.username }}
                    </div>
                    <div class="form-group">
                        {{ login_form.password }}
                    </div>
                     {% if login_form.non_field_errors or login_form.username.errors or login_form.password.errors %}
                        <div class="form-errors">
                            <p>Usuário ou senha inválidos. Tente novamente.</p>
                        </div>
                    {% endif %}
                    <button type="submit" name="login" class="btn btn-primary">Entrar</button>
                </form>
            </div>
        </div>

        <div class="split-panel panel-right">
            <div class="panel-content">
                <h2 class="text-primary">Crie sua conta</h2>
                <p>Cadastre seus dados</p>
                <form method="post" class="auth-form" action="{% url 'login' %}">
                    {% csrf_token %}
                    <div class="form-group">
                       {{ register_form.username }}
                       {% if register_form.username.errors %}
                            <div class="form-errors">{{ register_form.username.errors|first }}</div>
                        {% endif %}
                    </div>
                    <div class="form-group">
                       {{ register_form.email }}
                       {% if register_form.email.errors %}
                            <div class="form-errors">{{ register_form.email.errors|first }}</div>
                        {% endif %}
                    </div>
                    <div class="form-group">
                        {{ register_form.password1 }}
                         {% if register_form.password1.errors %}
                            <div class="form-errors">{{ register_form.password1.errors|first }}</div>
                        {% endif %}
                    </div>
                    <div class="form-group">
                        {{ register_form.password2 }}
                         {% if register_form.password2.errors %}
                            <div class="form-errors">{{ register_form.password2.errors|first }}</div>
                        {% endif %}
                    </div>
                    <button type="submit" name="register" class="btn btn-secondary">Cadastre-se</button>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}