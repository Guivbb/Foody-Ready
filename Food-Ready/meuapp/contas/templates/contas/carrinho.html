{% extends 'contas/base.html' %}
{% load static %}

{% block title %}Carrinho de Compras{% endblock %}

{% block content %}
<div class="carrinho-page">
    <header class="carrinho-header">
        <a href="javascript:history.back()" class="icon-link" style="position: absolute; left: 20px;">&#8592;</a>
        <h1>Pagamento</h1>
    </header>

    <main class="carrinho-container">
        
        <section class="order-summary">
            {# No futuro, podemos passar o nome do restaurante também #}
            <h2 class="restaurant-name">Resumo do Pedido</h2>
            
            <div class="summary-details">
                {# Loop para mostrar cada item do carrinho #}
                {% for nome, detalhes in carrinho.items %}
                <div class="summary-row">
                    <span>{{ nome }} ({{ detalhes.quantidade }}x)</span>
                    <span>R${{ detalhes.preco|floatformat:2 }}</span>
                </div>
                {% empty %}
                <div class="summary-row">
                    <span>O seu carrinho está vazio.</span>
                </div>
                {% endfor %}

                {# Mostra o total calculado na view #}
                <div class="summary-row total-row">
                    <strong>Total</strong>
                    <strong>R${{ total_carrinho|floatformat:2 }}</strong>
                </div>
            </div>
        </section>

        <section class="payment-methods">
            <h2 class="section-title">Forma de Pagamento</h2>
            <div class="payment-grid">
                <button type="button" class="payment-button">Pix</button>
                <button type="button" class="payment-button">Cartão de Crédito</button>
                <button type="button" class="payment-button">Dinheiro</button>
                <button type="button" class="payment-button">Cartão de Débito</button>
            </div>
        </section>

    </main>
</div>
{% endblock %}
